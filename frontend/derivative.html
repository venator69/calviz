<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <title>Calviz</title>
</head>

<body>
  <div class="topnav" id="myTopnav">
    <a href="index.html" class="active">CALVIZ</a>
    <a href="index.html">Home</a>
    <a href="riemann.html">Riemann Integral</a>
    <a href="derivative.html">Derivative</a>
    <a href="limit.html">L'hospital</a>
    <a href="series.html">Taylor series</a>
    <a href="login.html" class="login">Login</a>
    <a href="javascript:void(0);" class="icon">
      <i class="fa fa-bars"></i>
    </a>
  </div>

  <div class="card">
    <div class="typewriter">
      <div class="title">
        Introduction to Derivative
      </div>
    </div>
    <div class="subtitle">
      Instantaneous velocity
    </div>
    <div class="description">
      If we drive an automobile from one town to another 80 miles away in 2 hours, our average velocity is 40
      miles per hour. But during our trip the speedometer reading was often different from 40.At
      the start, it registered 0; at times it rose as high as 57. What the speedometer reads at a
      particular instant is the instantaneous velocity at that instant. 
    </div>
    <div class="description">
      Average velocity is counted by dividing the distance traveled by the time taken to travel that distance.
      The smaller the time interval, the closer the average velocity over that interval is to the instantaneous velocity.
      If we let the time interval shrink to zero, the average velocity approaches the instantaneous velocity.
        \[
        v = \lim_{Δt \to 0} v_{avg} = \lim_{Δt \to 0} \frac{f(x+Δt) - f(x)}{Δt}
        \]
    </div>
  </div>

  <div class="card">
    <div class="subtitle">
        Definition of a Derivative
    </div>
    <div class="description">
        Using the example of velocity above, derivative of a function at a point is the limit of the average rate of change of the function over an interval as the interval shrinks to zero.
        \[
        f'(a) = \lim_{h \to 0} \frac{f(a+h) - f(a)}{h}
        \]
    </div>
    </div>
  </div>

  <div class="card">
    <div class="subtitle">
      Derivative Visualisation
    </div>
    <div class="description">
      evaluated at: <span id="xLabel">0</span>
    </div>
    <div class="description">
      <input id="x" type="range" min="0" max="6" value="0"  step="0.1"/>
    </div>
    <div class="description">
      Δtime : <span id="timeLabel">1</span>
    </div>
    <div class="description">
      <input id="time" type="range" min="0.01" max="2" value="1"  step="0.01"/>
    </div>
    <canvas id="deriv" width="1000" height="400"></canvas>
    <div class="description">
    f(x) = <b id="yLabel">-</b>, f(x+Δtime) = <b id="yhLabel">-</b>,
    </div>
    Legend :
      <span style="color:red;">Red</span> is the tangent line, <span style="color:blue;">Blue</span> is the Position.
  </div>

  <div class="social">
    <div class="content">
      <div class="subtitle">My Socials : </div>
    <div class="socials">
      <a href ="https://discord.com/users/864557474853290034">
        <div class="social-icons">
          <img src="assets/discord.png" alt="Profile picture"><span class="links">DISCORD</span>
        </div>
      </a>
      <a href ="https://www.instagram.com/kletka69420/?next=%2F">      
        <div class="social-icons">
          <img src="assets/ig.png" alt="ig"><span class="links">INSTAGRAM</span>
        </div>
      </a>
      <a href ="https://www.linkedin.com/feed/?trk=guest_homepage-basic_google-one-tap-submit">
        <div class="social-icons">
          <img src="assets/linkedin.png" alt="Profile picture"><span class="links">LINKEDIN</span>
        </div>
      </a>
      <a href="https://www.youtube.com/@transracialtrain9151">
        <div class="social-icons">
          <img src="assets/youtube.png" alt="Profile picture"><span class="links">YOUTUBE</span>
        </div>
      </a>
      <a href="https://github.com/venator69">
        <div class="social-icons">
          <img src="assets/github.png" alt="Profile picture"><span class="links">GITHUB</span>
        </div>
      </a>
    </div>
  </div>
<script>
  const canvas = document.getElementById("deriv");
  const ctx = canvas.getContext("2d");
  const timeLabel = document.getElementById('timeLabel');
  const xLabel = document.getElementById('xLabel');
  const yLabel = document.getElementById('yLabel');
  const yhLabel = document.getElementById('yhLabel');
  const a = 0, b = 6;
// Input elements
  const xInput = document.getElementById('x');
  const timeInput = document.getElementById('time');

/*************************************
          Helper Functions
**************************************/
function mapX(x, a, b) {
  return (x - a) / (b - a) * canvas.width;
}

function mapY(y, minY, maxY) {
  return canvas.height - (y - minY) / (maxY - minY) * canvas.height;
}

function drawAxes(a, b, minY, maxY) {
  ctx.strokeStyle = '#000';
  ctx.lineWidth = 2;

  // y-axis
  const x0 = (0 - a) / (b - a) * canvas.width;
  ctx.beginPath();
  ctx.moveTo(x0, 0);
  ctx.lineTo(x0+2, canvas.height);
  ctx.stroke();

  // x-axis
  const y0 = canvas.height - (-minY) / (maxY - minY) * canvas.height;
  ctx.beginPath();
  ctx.moveTo(0, y0);
  ctx.lineTo(canvas.width, y0+2);
  ctx.stroke();
}


/*************************************
          Drawing Functions
**************************************/
function drawTangent(x, time) {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Compute Y bounds
  let minY = Infinity, maxY = -Infinity;
  for (let i = 0; i <= 100; i++) {
    const xi = 0 + (6) * i / 100;
    const y = 5+5*Math.sin(xi);
    if (y < minY) minY = y;
    if (y > maxY) maxY = y;
  }
  const margin = 0.1 * (maxY - minY);
  minY -= margin;
  maxY += margin;

  
  drawAxes(0, 6, minY, maxY);

  // Draw function
  ctx.beginPath();
  for (let px = 0; px <= 6; px += 0.01) {
    const y = 5+5*Math.sin(px);
    ctx.lineTo(mapX(px, 0, 6), mapY(y, minY, maxY));
  }
  ctx.strokeStyle = 'blue';
  ctx.stroke();

  // Draw tangent
  ctx.beginPath();
  for (let px = 0; px <= 6; px += 0.01) {
    const y = 5+5*Math.sin(x);
    const yaddh = 5+5*Math.sin(x+time);
    const grad = (yaddh - y) / time;
    const ynew = y + grad * (px - x);
    ctx.lineTo(mapX(px, 0, 6), mapY(ynew, minY, maxY));
  }
  ctx.strokeStyle = 'red';
  ctx.stroke();
}

/*************************************
          Update Function
**************************************/
function update() {
  const timeUp = parseFloat(timeInput.value);
  const xUp = parseFloat(xInput.value);

  timeLabel.textContent = timeUp;
  xLabel.textContent = xUp;

  const yUp = 5+5*Math.sin(xUp);
  const yhUp = 5+5*Math.sin(xUp+timeUp);
  yLabel.textContent = yUp;
  yhLabel.textContent = yhUp;

  drawTangent(xUp, timeUp);
}

/*************************************
          Event Listeners
**************************************/
[xInput, timeInput].forEach(el =>
  el.addEventListener('input', update)
);

update();

// Toggle Burger Menu
function toggleBurger() {
  const topnav = document.getElementById("myTopnav");
  topnav.classList.toggle("responsive");
}

// Add click listener to burger icon
document.querySelector(".topnav .icon").addEventListener("click", toggleBurger);

</script>

</body>
</html>
