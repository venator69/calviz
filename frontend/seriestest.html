<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Series Test</title>
</head>
<body>
  <canvas id="series" width="800" height="600" ></canvas>
<script>
  const fnTaylor = {
  inv: (x, terms) => taylorInv1mx(x, terms),
  ln: (x, terms) => taylorLn1p(x, terms),
  exp: (x, terms) => taylorExp(x, terms),
  sin: (x, terms) => taylorSin(x, terms),
  cos: (x, terms) => taylorCos(x, terms),
  };

  const fnInteg = {
    inv: (x) => 1/(1 - x),
    ln: (x) => Math.log(1 + x),
    exp: (x) => Math.exp(x),
    sin: (x) => Math.sin(x),
    cos: (x) => Math.cos(x),
  };

  function draw() {
  const canvas = document.getElementById("series");
  const ctx = canvas.getContext("2d");
  
  // Factorial function
  function factorial(n) {
    return n <= 1 ? 1 : n * factorial(n - 1);
  }

  // Taylor series for 1/(1-x)
  function taylorInv1mx(x, terms) {
      let sum = 0;
      for (let i = 0; i < terms; i++) {
          sum += Math.pow(x, i);
      }
      return sum;
  }

  // Taylor series for ln(1+x)
  function taylorLn1p(x, terms) {
      let sum = 0;
      for (let i = 1; i <= terms; i++) {
          sum += Math.pow(-1, i+1) * Math.pow(x, i) / i;
      }
      return sum;
  }

  // Taylor series for e^x
  function taylorExp(x, terms) {
      let sum = 0;
      for (let i = 0; i < terms; i++) {
          sum += Math.pow(x, i) / factorial(i);
      }
      return sum;
  }

  // Taylor series for sin(x)
  function taylorSin(x, terms) {
      let sum = 0;
      for (let i = 0; i < terms; i++) {
          sum += Math.pow(-1, i) * Math.pow(x, 2*i + 1) / factorial(2*i + 1);
      }
      return sum;
  }
  // Taylor series for cos(x)
  function taylorCos(x, terms) {
      let sum = 0;
      for (let i = 0; i < terms; i++) {
          sum += Math.pow(-1, i) * Math.pow(x, 2*i) / factorial(2*i);
      }
      return sum;
  }
  // Draw axes
  ctx.strokeStyle = "#000";
  ctx.lineWidth = 1;

  function mapX(x) {
    return canvas.width/2 + x * 50; // 50 pixels per unit
  }

  function mapY(y) {
      return canvas.height/2 - y * 100; // 100 pixels per unit, inverted y
    }

  ctx.beginPath();
  for (let px = -8; px <= 8; px += 0.01) { // x in math units
      let y = fun 
      Math.exp(px); // original sine
      ctx.lineTo(mapX(px), mapY(y));
  }
  ctx.strokeStyle = 'blue';
  ctx.stroke();

  ctx.beginPath();
  for (let px = -8; px <= 8; px += 0.01) {
      let yApprox = taylorExp(px, 3); 
      ctx.lineTo(mapX(px), mapY(yApprox));
  }
  ctx.strokeStyle = 'red';
  ctx.stroke();
}
draw();
</script>
</body>


</html>
